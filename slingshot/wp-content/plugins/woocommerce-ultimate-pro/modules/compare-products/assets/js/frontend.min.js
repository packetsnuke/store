!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(n){}}function t(n,o){var i=u.raw?n:r(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(r,c,a){if(arguments.length>1&&!e.isFunction(c)){if(a=e.extend({},u.defaults,a),"number"==typeof a.expires){var f=a.expires,s=a.expires=new Date;s.setTime(+s+864e5*f)}return document.cookie=[n(r),"=",i(c),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var d=r?void 0:{},p=document.cookie?document.cookie.split("; "):[],m=0,x=p.length;x>m;m++){var l=p[m].split("="),g=o(l.shift()),k=l.join("=");if(r&&r===g){d=t(k,c);break}r||void 0===(k=t(k))||(d[g]=k)}return d};u.defaults={},e.removeCookie=function(n,o){return void 0===e.cookie(n)?!1:(e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n))}});
jQuery(document).ready(function(o){"use strict";o.wc_products_compare_frontend={getComparedProducts:function(){var c=o.cookie(wc_products_compare_local.cookieName);return"undefined"!=typeof c&&c.length?c.split(","):!1},setComparedProducts:function(c){var t=o.wc_products_compare_frontend.getComparedProducts();return t===!1?t=[String(o.trim(c))]:-1===t.indexOf(c)&&t.push(c),o.cookie.raw=!0,o.cookie(wc_products_compare_local.cookieName,t.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},unsetComparedProducts:function(c){var t=o.wc_products_compare_frontend.getComparedProducts();return t!==!1&&-1!==t.indexOf(String(c))&&t.splice(t.indexOf(String(c)),1),o.cookie.raw=!0,o.cookie(wc_products_compare_local.cookieName,t.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},widgetAddProduct:function(c){var t={action:"wc_products_compare_add_product_ajax",ajaxAddProductNonce:wc_products_compare_local.ajaxAddProductNonce,product_id:c};o.post(wc_products_compare_local.ajaxurl,t,function(t){if(t.length){var e=o(".woocommerce-products-compare-widget");0==o(e).find('li[data-product-id="'+c+'"]').length&&(o(e).find(".no-products").length?(o(e).find(".no-products").remove(),o(e).find("a.woocommerce-products-compare-widget-compare-button").before("<ul>"+t+"</ul>")):o(e).find("ul").append(t))}})},widgetRemoveProduct:function(c){o(".woocommerce-products-compare-widget").find('li[data-product-id="'+c+'"]').fadeOut("fast",function(){o(this).remove()}),(o.wc_products_compare_frontend.getComparedProducts()===!1||o.wc_products_compare_frontend.getComparedProducts().length<=0)&&(o(".woocommerce-products-compare-widget p.no-products").remove(),o(".woocommerce-products-compare-widget ul").remove(),o(".woocommerce-products-compare-widget a.woocommerce-products-compare-widget-compare-button").before('<p class="no-products">'+wc_products_compare_local.widgetNoProducts+"</p>"))},init:function(){o("body").on("click",".woocommerce-products-compare-compare-button input",function(){if(navigator.cookieEnabled===!1)return void alert(wc_products_compare_local.noCookies);var c=(o(this).parents(".product"),o(this).data("product-id"));o(this).is(":checked")?o.wc_products_compare_frontend.getComparedProducts().length>=wc_products_compare_local.maxProducts?(alert(wc_products_compare_local.maxAlert),o(this).prop("checked",!1)):(o.wc_products_compare_frontend.setComparedProducts(c),o.wc_products_compare_frontend.widgetAddProduct(c),o("body").trigger("wc_compare_product_checked",c)):(o.wc_products_compare_frontend.unsetComparedProducts(c),o.wc_products_compare_frontend.widgetRemoveProduct(c),o("body").trigger("wc_compare_product_unchecked",c)),o("body").trigger("wc_compare_product_update",c)}),o(".woocommerce-products-compare-content").on("click",".remove-compare-product",function(c){c.preventDefault();var t,e=o(this).data("remove-id"),r=o(".woocommerce-products-compare-content thead tr:first-child").find("th, td").length,d=Math.floor(100/r);o(".woocommerce-products-compare-content").find('td[data-product-id="'+e+'"], th[data-product-id="'+e+'"]').fadeOut("fast",function(){o(this).remove()}),o.wc_products_compare_frontend.unsetComparedProducts(e),(o.wc_products_compare_frontend.getComparedProducts()===!1||o.wc_products_compare_frontend.getComparedProducts().length<=0)&&o(".woocommerce-products-compare-content").html(wc_products_compare_local.noProducts),o(".woocommerce-products-compare-content tbody tr, .woocommerce-products-compare-content thead tr").each(function(){t=!0,o(this).find("td").not('[data-product-id="'+e+'"]').each(function(){o(this).html().trim()&&(t=!1)}),t&&o(this).fadeOut("fast",function(){o(this).remove()})}),o(".woocommerce-products-compare-content thead tr:first-child").find("th, td").css("width",d+"%")}),o("body").on("click",".woocommerce-products-compare-compare-link",function(){return o.wc_products_compare_frontend.getComparedProducts().length>1?!0:(alert(wc_products_compare_local.moreProducts),!1)}),o("body").on("click",".woocommerce-products-compare-widget-compare-button",function(){return o.wc_products_compare_frontend.getComparedProducts().length>1?!0:(alert(wc_products_compare_local.moreProducts),!1)}),o(".woocommerce-products-compare-widget").on("click",".remove-compare-product",function(c){c.preventDefault();var t=o(this).data("remove-id");o.wc_products_compare_frontend.unsetComparedProducts(t),o.wc_products_compare_frontend.widgetRemoveProduct(t),o('input.woocommerce-products-compare-checkbox[data-product-id="'+t+'"]').prop("checked",!1)})}},o.wc_products_compare_frontend.init()});