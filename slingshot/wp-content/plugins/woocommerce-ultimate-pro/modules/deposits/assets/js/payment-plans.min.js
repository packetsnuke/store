jQuery(function(a){a("table.paymentplans").on("click","a.delete_plan",function(a){var b=confirm(wc_deposits_payment_plans_params.i18n_delete_plan);return b?!0:!1}),a("table.wc-deposits-plan").on("click",".add-row",function(){var b=a("table.wc-deposits-plan"),c=a(this).closest("tr");return c.after(b.data("row")),a("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change(),!1}).on("click",".remove-row",function(){var b=a(this).closest("tr");return b.remove(),a("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change(),!1}).on("change input",".plan_amount",function(){var b=a("table.wc-deposits-plan"),c=0;b.find(".plan_amount").each(function(){c+=parseFloat(a(this).val()||0)}),b.find(".total_percent").text(c)}).on("change input",".plan_interval_amount, .plan_interval_unit",function(){var b=a("table.wc-deposits-plan"),c=b.find(".total_duration"),d=[],e=0,f=0,g=0,h=!1;b.find(".plan_interval_amount").each(function(){var b=a(this).closest("tr").find(".plan_interval_unit").val(),c=parseInt(a(this).val());"day"===b&&(g+=c),"week"===b&&(g+=7*c),"year"===b&&(e+=c),"month"===b&&(f+=c)}),e&&(d.push(e+" "+c.data("years")),h=!0),f&&(d.push(f+" "+c.data("months")),h=!0),(g||!h)&&d.push(g+" "+c.data("days")),c.text(d.join(", "))}),a("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change()});