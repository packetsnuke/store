jQuery(document).ready(function(a){"use strict";a("#wc_twilio_sms_shorten_urls").on("change",function(){a(this).is(":checked")?a(this).closest("tr").next("tr").show():a(this).closest("tr").next("tr").hide()}).change(),a("#wc_twilio_sms_enable_admin_sms").on("change",function(){a(this).is(":checked")?a(this).closest("tr").nextUntil("p").show():a(this).closest("tr").nextUntil("p").hide()}).change(),a("a.wc_twilio_sms_test_sms_button").on("click",function(b){b.preventDefault();var c=a("input#wc_twilio_sms_test_mobile_number"),d=a("textarea#wc_twilio_sms_test_message");c.val()&&c.val()||alert(wc_twilio_sms_admin.test_sms_error_message),c.closest("table").block({message:null,overlayCSS:{background:"#fff url("+wc_twilio_sms_admin.assets_url+") no-repeat center",opacity:.6}});var e={mobile_number:c.val(),message:d.val(),security:wc_twilio_sms_admin.test_sms_nonce,action:"woocommerce_twilio_sms_send_test_sms"};jQuery.post(wc_twilio_sms_admin.ajax_url,e,function(a){c.closest("table").unblock(),c.val(""),d.val(""),alert(a)})}),a("#wc_twilio_sms_toggle_order_updates").change(function(){var b=a("div#wc_twilio_sms_order_meta_box"),c=a(this);if(!b.is(".processing")){b.addClass("processing").block({message:null,overlayCSS:{background:"#fff url("+wc_twilio_sms_admin.assets_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}});var d={action:"wc_twilio_sms_toggle_order_updates",security:wc_twilio_sms_admin.toggle_order_updates_nonce,order_id:wc_twilio_sms_admin.edit_order_id};a.ajax({type:"POST",url:wc_twilio_sms_admin.ajax_url,data:d,success:function(a){b.removeClass("processing").unblock(),a&&c.blur()},dataType:"html"})}}),a("#wc_twilio_sms_order_message").on("change keyup input",function(){a("#wc_twilio_sms_order_message_char_count").text(a(this).val().length),a(this).val().length>160&&a("#wc_twilio_sms_order_message_char_count").css("color","red")}),a("a#wc_twilio_sms_order_send_message").click(function(b){b.preventDefault();var c=a("div#wc_twilio_sms_order_meta_box"),d=a("textarea#wc_twilio_sms_order_message");if(!c.is(".processing")){c.addClass("processing").block({message:null,overlayCSS:{background:"#fff url("+wc_twilio_sms_admin.assets_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}});var e={action:"wc_twilio_sms_send_order_sms",security:wc_twilio_sms_admin.send_order_sms_nonce,order_id:wc_twilio_sms_admin.edit_order_id,message:d.val()};a.ajax({type:"POST",url:wc_twilio_sms_admin.ajax_url,data:e,success:function(b){c.removeClass("processing").unblock(),b&&(c.block({message:b,timeout:900}),d.val(""),a("#wc_twilio_sms_order_message_char_count").text("0"))},dataType:"html"})}})});