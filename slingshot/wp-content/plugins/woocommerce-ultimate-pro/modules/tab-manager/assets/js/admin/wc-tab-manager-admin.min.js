jQuery(function(a){function b(){a(".woocommerce_product_tabs .woocommerce_product_tab").each(function(b,c){a(".product_tab_position",c).val(parseInt(a(c).index(".woocommerce_product_tabs .woocommerce_product_tab"),10))})}function c(){a(".woocommerce_product_tabs").on("blur","input.product_tab_title",function(){var b=a(this).closest(".woocommerce_product_tab");b.hasClass("product_tab_core")||b.find("strong.product_tab_name").text(a(this).val())})}var d=a(".woocommerce_product_tabs").find(".woocommerce_product_tab");d.sort(function(b,c){var d=parseInt(a(b).attr("rel"),10),e=parseInt(a(c).attr("rel"),10);return d<e?-1:d>e?1:0}),d.each(function(b,c){a(".woocommerce_product_tabs").append(c)}),a("button.add_product_tab").on("click",function(){var d=a(".woocommerce_product_tabs .woocommerce_product_tab").size(),e=a("select.product_tab").val();if(e){var f=a(".woocommerce_product_tabs .woocommerce_product_tab."+e);f.is(":visible")||(a(".woocommerce_product_tabs").append(f),f.find(".product_tab_active").val(1),b()),f.show().find(".woocommerce_product_tab_data").show()}else{var g={action:"wc_tab_manager_get_editor",size:d,security:wc_tab_manager_admin_params.get_editor_nonce};a.post(wc_tab_manager_admin_params.ajax_url,g,function(b){a(".tab_content_editor_"+g.size).append(b),a("#producttabcontent"+g.size).val(a("#product_tab_content_"+g.size).val()),a("#product_tab_content_"+g.size).remove();try{quicktags({id:"producttabcontent"+g.size,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,more,spell,close,fullscreen"});QTags._buttonsInit(),a("#wp-producttabcontent"+g.size+"-wrap").mousedown(function(){wpActiveEditor=this.id.slice(3,-5)})}catch(a){}}),a(".woocommerce_product_tabs").append('<div class="woocommerce_product_tab wc-metabox">\t\t\t\t<h3>\t\t\t\t\t<button type="button" class="remove_row button">'+wc_tab_manager_admin_params.remove_label+'</button>\t\t\t\t\t<div class="handlediv" title="'+wc_tab_manager_admin_params.click_to_toggle+'"></div>\t\t\t\t\t<strong class="product_tab_name"></strong>\t\t\t\t</h3>\t\t\t\t<table class="woocommerce_product_tab_data wc-metabox-content">\t\t\t\t\t<tr>\t\t\t\t\t\t<td>\t\t\t\t\t\t\t<div class="options_group">\t\t\t\t\t\t\t\t<p class="form-field product_tab_title_field">\t\t\t\t\t\t\t\t\t<label for="product_tab_title_'+d+'">'+wc_tab_manager_admin_params.title_label+'</label>\t\t\t\t\t\t\t\t\t<input type="text" value="" id="product_tab_title_'+d+'" name="product_tab_title['+d+']" class="short product_tab_title"> <span class="description">'+wc_tab_manager_admin_params.title_description+'</span>\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="tab_content_editor_'+d+'">\t\t\t\t\t\t\t\t<textarea id="product_tab_content_'+d+'" class="large-text" style="float:left;" rows="10" name="product_tab_content['+d+']"></textarea>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<input type="hidden" name="product_tab_active['+d+']" class="product_tab_active" value="1" />\t\t\t\t\t\t\t<input type="hidden" name="product_tab_position['+d+']" class="product_tab_position" value="'+d+'" />\t\t\t\t\t\t\t<input type="hidden" name="product_tab_type['+d+']" class="product_tab_tab" value="product" />\t\t\t\t\t\t\t<input type="hidden" name="product_tab_id['+d+']" class="product_tab_id" value="" />\t\t\t\t\t\t</td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</div>'),c()}a("select.product_tab").val("")}),c(),a(".woocommerce_product_tabs").on("click","button.remove_row",function(){var c=confirm(wc_tab_manager_admin_params.remove_product_tab);if(c){var d=a(this).parent().parent();d.hide(),d.find(".product_tab_active").val(0),b()}return!1});var e=a(".woocommerce_product_tabs");e.length&&e.sortable({items:".woocommerce_product_tab",cursor:"move",axis:"y",handle:"h3",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,c){c.item.removeAttr("style"),b()}}),a("#_override_tab_layout").change(function(){a(this).is(":checked")?a("#wc_tab_manager_block").hide():a("#wc_tab_manager_block").show()}).change()});