jQuery(document).ready(function(a){a(".yit-options .upload_img_url").change(function(){var b=a(this).val(),c=a(this).parent().siblings(".upload_img_preview");/(http|ftp|https):\/\/[a-zA-Z0-9@?^=%&amp;:/~+#-_.]*.(gif|jpg|jpeg|png|ico)/.test(b)?c.html('<img src="'+b+'" style="max-width:600px; max-height:300px;" />'):c.html("")}).change();a("a.refresh-main-color").on("click",function(b){b.preventDefault();var c=a(this),d=a(this).text();b=c.data("field_id");var e=c.next(),f=a("#"+b+"-color");e.css("display","inline-block");c.attr("disabled",!0).text(yit_panel_l10n.submit_loading);c.prev().css("opacity",.4);a.post(ajaxurl,{_yitnonce:yit_panel_l10n.yit_panel_refresh_color_nonce,field_id:b,action:"yit-refresh-color",color:f.val()},function(b){e.hide();c.attr("disabled",!1).text(d);c.prev().css("opacity","");a.each(b,function(b,c){a("#"+b+"-color").iris("color",c)})},"json")});var g=!0,k=wp.media.editor.send.attachment;a(document).on("click",".yit-options .upload_button",function(b){b=a(this);var c=b.attr("id").replace("-button","");g=!0;wp.media.editor.send.attachment=function(b,e){if(g)console.log(c),a("#"+c).is("input[type=text]")?a("#"+c).val(e.url):a("#"+c+"_custom").val(e.url);else return k.apply(this,[b,e])};wp.media.editor.open(b);return!1});a(".yit-options .add_media").on("click",function(){g=!1});var h=function(){var b="";a(this).attr("multiple")?(a(this).children("option:selected").each(function(c,d){0!=c&&(b+=", ");b+=a(d).text()}),""==b&&a(this).children().children("option:selected").each(function(c,d){0!=c&&(b+=", ");b+=a(d).text()})):(b=a(this).children("option:selected").text(),""==b&&(b=a(this).children().children("option:selected").text()));0>=a(this).parent().find("span").length&&a(this).before("<span></span>");a(this).parent().children("span").replaceWith("<span>"+b+"</span>")};a(".yit-options .select_wrapper select").each(h).change(h);a(".yit-options .select_wrapper").click(function(b){b.stopPropagation();a(this).find("select[multiple]").toggle()});a(".yit-options .select_wrapper select[multiple]").click(function(a){a.stopPropagation()});a(window).click(function(){a("select[multiple]").hide()});a(".yit-options .panel-colorpicker").wpColorPicker({change:function(b,c){a("#"+b.target.id).parents(".typography_container").find(".font-preview > p").css("color",c.color.toString())},clear:function(){var b=a(this);b.val(b.data("default-color"));b.change()}});a(".yit-options .panel-colorpicker").each(function(){var b=a(this).data("variations-label");a(this).parent().parent().find("a.wp-color-result").attr("title",b)});a(".yit-options .onoff_container span").on("click",function(){var b=a(this).prev("input");b.prop("checked")?b.prop("checked",!1).attr("value","no").removeClass("onoffchecked"):b.prop("checked",!0).attr("value","yes").addClass("onoffchecked");b.change()});a(".yit-options .number_container .number").each(function(){var b=a(this).data("min")?a(this).data("min"):null,c=a(this).data("max")?a(this).data("max"):null,d=a(this).val();a(this).spinner({min:b,max:c,defaultValue:d,interval:1})});a(".yit-options .slider_container .ui-slider-horizontal").each(function(){var b=a(this).data("val"),c=a(this).data("min"),d=a(this).data("max"),e=a(this).data("step"),f=a(this).data("labels");a(this).slider({value:b,min:c,max:d,range:"min",step:e,slide:function(b,c){a(this).find("input").val(c.value);a(this).siblings(".feedback").find("strong").text(c.value+f)}})});a(".submit [type=submit]").on("click",function(){a(".wp-editor-wrap.tmce-active .switch-html").click(function(){a(this).addClass("yit_switch_changed")}).click();a(".yit_switch_changed").removeClass("yit_switch_changed").next().click()});a(".rm_bg-preview").each(function(){var b=a(this);a(this).attr("id");"custom"!=b.find("select").val()&&""!=a(this).find("select").val()||b.find(".bg-preview div").hide();a(this).find("select").change(function(){"custom"==a(this).val()||""==a(this).val()?b.find(".bg-preview div").hide():b.find(".bg-preview div").css("background-image","url("+a("option:selected",this).val()+")").show()})});a(".rm_connectedlist").each(function(){var b=a(this).find("ul"),c=a(this).find(":hidden");b.sortable({connectWith:b,update:function(d,e){var f={};b.each(function(){var b={};a(this).children().each(function(){b[a(this).data("option")]=a(this).text()});f[a(this).data("list")]=b});c.val(JSON.stringify(f).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"))}}).disableSelection()});a(".rm_selecticon select").each(function(){var b=a(this).parents(".yit_options");a(this).on("change",function(){a(".icon-preview span",b).removeAttr("class").addClass("icon-"+a(this).val())})});a(".typography_container").yit_panel_typography();a(".select_wrapper.icon_type").on("change",function(){var b=a(this),b=a("#"+b.parents("div.select_icon").attr("id")),c=a("option:selected",this).val(),c="none"==c?"":"icon"==c?".awesome_icon":".custom_icon";b.find(".option > div:not(.icon_type)").addClass("hidden");b.find(c).removeClass("hidden").addClass("show")});a(".select_wrapper.icon_type").trigger("change");a(".select_wrapper.skin_type").on("change",function(b){b=a(this).find("option:selected").data("skin_name");var c=a(".skin_image .skin_preview"),d=c.data("previewurl")+b+".png";c.fadeOut("slow",function(){a(".change-theme-skin").add(".reset-theme-skin").add("#install-sample-data");c.attr("src",d).fadeIn("slow")})});a(".yit_options .import_select .select_all").on("click",function(b){b.preventDefault();a(" .yit_options .import_select .importcheck").attr("checked",!0)});a(".yit_options .import_select .deselect_all").on("click",function(b){b.preventDefault();a(" .yit_options .import_select .importcheck").attr("checked",!1)});a("#sampledata_skins_list").on("change",function(b){b=a(this).val();a(this).parents("div.sampledata").find("#sampledata_file").val(b)});a("#select_multi_link").on("change",function(b){a(this).parents().parents().find("a.multi_link").attr("href",a(this).val())})});